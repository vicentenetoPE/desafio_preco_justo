<div
  class="container mx-auto w-4/5 border rounded-lg overflow-hidden dark:border-neutral-700"
>
  <div
    class="border rounded-lg divide-y divide-gray-200 dark:border-neutral-700 dark:divide-neutral-700"
  >
    <div class="flex gap-6 w-full py-3 px-4">
      <div class="relative w-full">
        <label for="hs-table-search" class="sr-only">Pesquisar</label>
        <input
          [formControl]="filter"
          type="text"
          name="hs-table-search"
          id="hs-table-search"
          class="py-2 px-3 pl-9 block w-full border-gray-200 shadow-sm rounded-lg text-sm focus:z-10 focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-gray-300 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600"
          placeholder="Buscar um post"
          aria-label="Search for items"
        />
        <div
          class="absolute inset-y-0 start-0 flex items-center pointer-events-none pl-3"
        >
          <svg
            class="h-5 w-5 text-gray-400 dark:text-neutral-500"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <circle cx="11" cy="11" r="8"></circle>
            <path d="M21 21l-4.35-4.35"></path>
          </svg>
        </div>
      </div>
      <button
        (click)="createPost()"
        class="text-nowrap bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-4 rounded focus:outline-none focus:shadow-outline"
        aria-label="Criar post"
      >
        + Criar post
      </button>
    </div>
    <table class="min-w-full divide-y divide-gray-200 dark:divide-neutral-700">
      <thead class="bg-gray-800">
        <tr>
          <th
            class="px-2 sm:px-6 py-3 text-start text-xs font-medium text-gray-100 uppercase"
          >
            Usuário
          </th>
          <th
            class="px-2 sm:px-6 py-3 text-center text-xs font-medium text-gray-100 uppercase"
          >
            Título
          </th>
          <th
            class="px-2 sm:px-6 py-3 text-center text-xs font-medium text-gray-100 uppercase"
          >
            Ações
          </th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-200 dark:divide-neutral-700">
        <tr
          *ngFor="let post of posts"
          class="odd:bg-white even:bg-gray-100"
        >
          <td class="px-2 sm:px-6 py-4 text-sm font-medium text-gray-800">
            {{ findUser(post.userId) }}
          </td>
          <td class="px-2 sm:px-6 py-4 text-sm font-medium text-gray-800">
            {{ post.title }}
          </td>
          <td class="h-full px-2 sm:px-6">
            <div class="flex flex-col justify-center sm:flex-row  gap-4 px-2 sm:px-6  py-4 text-sm font-medium text-gray-800 items-center">
              <button
                (click)="redirectToPost(post.id)"
                class="text-blue-500 text-nowrap"
                aria-label="View more"
              >
                Ver mais
              </button>
              <button
                (click)="editPost(post)"
                class="text-blue-500"
                aria-label="Edit post"
              >
                Editar
              </button>
              <button
                (click)="deletePost(post)"
                class="text-red-500"
                aria-label="Delete post"
              >
                Excluir
              </button>
            </div>
          </td>
        </tr>
        <tr>
          <td colspan="4" class="px-6 py-4 text-sm font-medium bg-transparent text-gray-800">
            <mat-paginator
              #paginator
              [length]="postService.posts.length"
              [pageIndex]="0"
              [pageSize]="10"
              (page)="updatePosts()"
              [pageSizeOptions]="[5, 10, 25, 100]"
              [showFirstLastButtons]="true"
              aria-label="Select page of posts"
            >
            </mat-paginator>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
